<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>My Todolist</title>
    <link href="./css/style.css" rel="stylesheet" />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    
  </head>
  <body class="bg-gray-100 min-h-screen">
    <div class="max-w-2xl mx-auto pt-12 pb-32">
      <!-- pb-32 to avoid form overlap -->
      <div class="bg-white shadow-xl rounded-2xl p-8">
        <div class="flex items-center justify-between mb-8 relative">
          <h1 class="text-3xl font-bold text-gray-800">해야할 일</h1>
          
          <div class="relative">
            <button 
              id="menu-toggle-btn" 
              class="p-2 text-gray-500 hover:text-gray-800 hover:bg-gray-100 rounded-full transition-colors focus:outline-none"
              aria-label="메뉴 열기"
            >
              <i class="fas fa-bars text-xl"></i>
            </button>

            <div 
              id="dropdown-menu" 
              class="hidden absolute right-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-xl z-50 overflow-hidden"
            >
              <div class="px-4 py-4 border-b border-gray-100 bg-gray-50">
                <div class="flex items-center">
                  <div class="w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center shrink-0">
                    <i class="fas fa-user text-blue-600"></i>
                  </div>
                  <div class="ml-3">
                    <p id="user-name" class="text-sm font-bold text-gray-800"></p>
                    <p id="user-email" class="text-xs text-gray-500"></p>
                  </div>
                </div>
              </div>

              <nav class="flex flex-col">
                <button 
                  id="logout-button" 
                  class="text-left px-4 py-3 text-sm text-gray-700 hover:bg-gray-50 border-b border-gray-100 transition-colors flex items-center"
                >
                  <i class="fas fa-sign-out-alt w-5 text-gray-400"></i>
                  로그아웃
                </button>
                <button 
                  id="delete-account-btn" 
                  class="text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors flex items-center"
                >
                  <i class="fas fa-user-times w-5 text-red-400"></i>
                  회원탈퇴
                </button>
              </nav>
            </div>
          </div>
        </div>

        <!-- Todo list area -->
        <section aria-labelledby="todolist-heading">
          <h2 id="todolist-heading" class="sr-only">할 일 목록</h2>

          <div class="border rounded-lg p-4">
            <!-- 중앙 정렬 영역 -->
            <div class="flex flex-col items-center">
              <!-- 실제 항목이 들어갈 곳: JS가 여기(#todo-list)에 <li>를 추가합니다 -->
              <ul id="todo-list" class="w-full space-y-3">
                

                
              </ul>

              <!-- 빈 상태 표시 (JS가 항목을 추가하면 숨기면 됩니다) -->
              <p id="empty-state" class="text-gray-400 mt-6">
                아직 추가된 할 일이 없습니다. 아래 입력창에 작성 후 제출하세요.
              </p>
            </div>
          </div>
        </section>
      </div>
    </div>

    <!-- 하단 고정 form -->
    <div
      class="fixed left-0 right-0 bottom-0 bg-white/95 border-t border-gray-200 p-4 flex items-center gap-3 max-w-4xl mx-auto w-full px-6"
      style="backdrop-filter: blur(4px)"
    >
      <label for="todo-input" class="sr-only">해야할 일 입력</label>
      <input
        id="todo-input"
        name="todo-input"
        type="text"
        placeholder="해야할 일은 무엇인가요?"
        autocomplete="off"
        class="flex-1 rounded-full border border-gray-300 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-300 text-gray-700"
      />
      <button
        id="todo-button"
        type="button"
        class="rounded-full px-4 py-2 bg-blue-600 text-white font-medium hover:bg-blue-700 transition"
      >
        추가
      </button>
    </div>

    <!-- (옵션) 스타일 일부를 inline으로 더 정교하게 지정 -->
    <style>
      /* todo 항목 스타일 (JS가 추가할 요소와 맞춤) */
      /* .todo-circle 기본: 검정 테두리, 투명 내부. hover 시 내부 흰색으로 채움 */
      .todo-circle {
        display: inline-block;
        box-sizing: border-box;
      }

      /* 포커스(키보드) 접근성: 포커스 시 테두리 강조 */
      .todo-circle:focus {
        outline: 3px solid rgba(59, 130, 246, 0.25); /* blue-500 25% */
        outline-offset: 2px;
      }

      /* 작은 화면에서 form 내부 패딩 최적화 */
      @media (max-width: 640px) {
        form#todo-form {
          padding-left: 1rem;
          padding-right: 1rem;
        }
      }
    </style>

  
    
    <script type="module" src="./js/TODO/Todo.js"></script>
    <script type="module" src="./js/TODO/Todo_logout_DeleteAccount.js"></script>
  </body>
  
</html>
